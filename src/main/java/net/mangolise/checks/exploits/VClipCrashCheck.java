package net.mangolise.checks.exploits;

import net.mangolise.ACCheck;
import net.mangolise.MangoAC;
import net.minestom.server.MinecraftServer;
import net.minestom.server.event.player.PlayerMoveEvent;

public class VClipCrashCheck extends ACCheck {

    public VClipCrashCheck() {
        super("VClip Crash");
    }

    @Override
    public void register(MangoAC.Config config) {
        MinecraftServer.getGlobalEventHandler().addListener(PlayerMoveEvent.class, e -> {
            if (e.getNewPosition().y() > 1_000_000) {
                e.setCancelled(true);
                flag(e.getPlayer(), 1f);
            }
        });
    }
}
